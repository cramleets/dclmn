!function(){var e={991:function(e,t){var o;!function(){"use strict";var n=function(){function e(){}function t(e,t){for(var o=t.length,n=0;n<o;++n)r(e,t[n])}e.prototype=Object.create(null);var o={}.hasOwnProperty,n=/\s+/;function r(e,r){if(r){var a=typeof r;"string"===a?function(e,t){for(var o=t.split(n),r=o.length,a=0;a<r;++a)e[o[a]]=!0}(e,r):Array.isArray(r)?t(e,r):"object"===a?function(e,t){if(t.toString===Object.prototype.toString||t.toString.toString().includes("[native code]"))for(var n in t)o.call(t,n)&&(e[n]=!!t[n]);else e[t.toString()]=!0}(e,r):"number"===a&&function(e,t){e[t]=!0}(e,r)}}return function(){for(var o=arguments.length,n=Array(o),r=0;r<o;r++)n[r]=arguments[r];var a=new e;t(a,n);var l=[];for(var i in a)a[i]&&l.push(i);return l.join(" ")}}();e.exports?(n.default=n,e.exports=n):void 0===(o=function(){return n}.apply(t,[]))||(e.exports=o)}()},184:function(e,t){var o;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var a=typeof o;if("string"===a||"number"===a)e.push(o);else if(Array.isArray(o)){if(o.length){var l=r.apply(null,o);l&&e.push(l)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){e.push(o.toString());continue}for(var i in o)n.call(o,i)&&o[i]&&e.push(i)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,o),a.exports}o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};o.r(e),o.d(e,{icon:function(){return A},name:function(){return T},settings:function(){return N},title:function(){return R}});var t={};o.r(t),o.d(t,{name:function(){return O},settings:function(){return j}});var n={};o.r(n),o.d(n,{name:function(){return W},settings:function(){return Z}});var r=window.wp.blocks,a=window.wp.i18n;function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},l.apply(this,arguments)}var i=window.wp.element,s=window.wp.components,c=window.wp.blockEditor,u=window.wp.primitives,d=(0,i.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(u.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),p=e=>{const{showEditButton:t,switchBackToURLInput:o}=e;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(c.BlockControls,null,(0,i.createElement)(s.ToolbarGroup,null,t&&(0,i.createElement)(s.Button,{className:"components-toolbar__control",label:(0,a.__)("Edit URL"),icon:d,onClick:o}))))},m=()=>(0,i.createElement)("div",{className:"wp-block-embed is-loading"},(0,i.createElement)(s.Spinner,null),(0,i.createElement)("p",null,(0,a.__)("Embedding…"))),b=e=>{const{icon:t,label:o,value:n,onSubmit:r,onChange:l,cannotEmbed:u,fallback:d,tryAgain:p}=e;return(0,i.createElement)(s.Placeholder,{icon:(0,i.createElement)(c.BlockIcon,{icon:t,showColors:!0}),label:o,className:"wp-block-embed",instructions:(0,a.__)("Paste a link to the content you want to display on your site.")},(0,i.createElement)("form",{onSubmit:r},(0,i.createElement)("input",{type:"url",value:n||"",className:"components-placeholder__input","aria-label":o,placeholder:(0,a.__)("Enter URL to embed here…"),onChange:l}),(0,i.createElement)(s.Button,{isSecondary:!0,type:"submit"},(0,a._x)("Embed","button label"))),(0,i.createElement)("div",{className:"components-placeholder__learn-more"},(0,i.createElement)(s.ExternalLink,{href:(0,a.__)("https://wordpress.org/support/article/embeds/")},(0,a.__)("Learn more about embeds"))),u&&(0,i.createElement)("div",{className:"components-placeholder__error"},(0,i.createElement)("div",{className:"components-placeholder__instructions"},(0,a.__)("Sorry, this content could not be embedded.")),(0,i.createElement)(s.Button,{isSecondary:!0,onClick:p},(0,a._x)("Try again","button label"))," ",(0,i.createElement)(s.Button,{isSecondary:!0,onClick:d},(0,a._x)("Convert to link","button label"))))},h=o(991),g=o.n(h);class v extends i.Component{constructor(){super(...arguments),this.hideOverlay=this.hideOverlay.bind(this),this.state={interactive:!1}}static getDerivedStateFromProps(e,t){return!e.isSelected&&t.interactive?{interactive:!1}:null}hideOverlay(){this.setState({interactive:!0})}render(){const{preview:e,url:t,type:o,caption:n,onCaptionChange:r,isSelected:l,className:s,icon:u,label:d}=this.props,{interactive:p}=this.state,m=e.html,b=(0,i.createElement)("div",{className:"wp-block-embed__wrapper"},(0,i.createElement)("div",{dangerouslySetInnerHTML:{__html:m}}),!p&&(0,i.createElement)("div",{className:"block-library-embed__interactive-overlay",onMouseUp:this.hideOverlay}));return(0,i.createElement)("figure",{className:g()(s,"wp-block-embed",{"is-type-video":"video"===o})},b,(!c.RichText.isEmpty(n)||l)&&(0,i.createElement)(c.RichText,{tagName:"figcaption",placeholder:(0,a.__)("Write caption…"),value:n,onChange:r,inlineToolbar:!0}))}}var f=v,y=o(184),w=o.n(y),_=window.wp.compose,k=window.wp.data,E=e=>{let{url:t,...o}=e;const n=[];Object.keys(o).map((e=>{o[e]&&n.push(`${encodeURIComponent(e)}=${encodeURIComponent(o[e])}`)}));const r=!!n.length&&n.join("&");return t&&r?`${t}?${r}`:t};class C extends i.Component{constructor(){super(...arguments),this.switchBackToURLInput=this.switchBackToURLInput.bind(this),this.setUrl=this.setUrl.bind(this),this.handleIncomingPreview=this.handleIncomingPreview.bind(this),this.state={editingURL:!1,url:this.props.attributes.url},this.props.preview&&this.handleIncomingPreview()}handleIncomingPreview(){const{setAttributes:e}=this.props;e(this.props.attributes)}componentDidUpdate(e){const t=void 0!==this.props.preview,o=void 0!==e.preview,n=e.preview&&this.props.preview&&this.props.preview.html!==e.preview.html||t&&!o,r=this.props.attributes.url!==e.attributes.url;if(n||r){if(this.props.cannotEmbed)return void(this.props.fetching||this.resubmitWithoutTrailingSlash());this.handleIncomingPreview()}}resubmitWithoutTrailingSlash(){this.setState((e=>({url:e.url.replace(/\/$/,"")})),this.setUrl)}setUrl(e){e&&e.preventDefault();const{url:t}=this.state,{setAttributes:o}=this.props;0===t.indexOf("https://secure.actblue.com")?(this.setState({editingURL:!1}),o({url:t})):console.error("Can not use ActBlue Embed block to embed non-ActBlue urls")}switchBackToURLInput(){this.setState({editingURL:!0}),this.props.clearActBlueSettings()}render(){const{url:e,editingURL:t}=this.state,{fetching:o,setAttributes:n,isSelected:a,preview:l,cannotEmbed:s,tryAgain:c}=this.props;if(o)return(0,i.createElement)(m,null);const u="ActBlue URL";if(!l||s||t)return(0,i.createElement)(b,{icon:A,label:u,onSubmit:this.setUrl,value:e,cannotEmbed:s,onChange:e=>this.setState({url:e.target.value}),fallback:()=>function(e,t){const o=(0,i.createElement)("a",{href:e},e);t((0,r.createBlock)("core/paragraph",{content:(0,i.renderToString)(o)}))}(e,this.props.onReplace),tryAgain:c});const{caption:d,type:h}=this.props.attributes,g=w()(this.props.attributes.className,this.props.className);return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(p,{showEditButton:l&&!s,switchBackToURLInput:this.switchBackToURLInput}),(0,i.createElement)(f,{preview:l,className:g,url:e,type:h,caption:d,onCaptionChange:e=>n({caption:e}),isSelected:a,icon:A,label:u}))}}class x extends i.Component{constructor(){super(...arguments),this.clearActBlueSettings=this.clearActBlueSettings.bind(this)}clearActBlueSettings(){this.props.setAttributes({refcode:""})}render(){return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(C,l({},this.props,{clearActBlueSettings:this.clearActBlueSettings})),(0,i.createElement)(c.InspectorControls,null,(0,i.createElement)(s.PanelBody,{title:(0,a.__)("ActBlue Settings"),className:"actblue-embed-settings__panel"},(0,i.createElement)(s.TextControl,{label:"Refcode",value:this.props.attributes.refcode,onChange:e=>this.props.setAttributes({refcode:e}),help:"Add a refcode to this embed form."}))))}}var B=(0,_.compose)((0,k.withSelect)(((e,t)=>{const{url:o}=t.attributes,n=E({url:o,preview:"true"}),r=e("core"),{getEmbedPreview:a,isPreviewEmbedFallback:l,isRequestingEmbedPreview:i}=r,s=void 0!==n&&a(n),c=void 0!==n&&l(n),u=void 0!==n&&i(n),d=!!s&&void 0===s.type&&!1===s.html,p=!!s&&s.data&&404===s.data.status,m=!!s&&!d&&!p;return{preview:m?s:void 0,fetching:u,cannotEmbed:void 0!==n&&(!m||c)}})),(0,k.withDispatch)(((e,t)=>{const{url:o}=t.attributes,n=e("core/data");return{tryAgain:()=>{n.invalidateResolution("core","getEmbedPreview",[o])}}})))(x),S={from:[{type:"raw",isMatch:e=>"P"===e.nodeName&&/^\s*(https?:\/\/secure\.actblue\.com\S+)\s*$/i.test(e.textContent),transform:e=>(0,r.createBlock)(T,{url:e.textContent.trim()})}]},A=()=>(0,i.createElement)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 46.32 27.69"},(0,i.createElement)(u.Path,{d:"M23.33,27.69l-2.56-6H9.14L6.58,27.62H0L11.91,0h5.95L29.77,27.62H23.33ZM15,8.24l-3.46,8h6.92Zm29.91,7.41A6.26,6.26,0,0,1,46.31,20a7.45,7.45,0,0,1-2,5.12c-1.52,1.73-4.15,2.56-8,2.56h-4.5L24.3,10.11V0H35a16.79,16.79,0,0,1,4.84.69,6.89,6.89,0,0,1,3.05,1.8,7.23,7.23,0,0,1,1.87,4.85,5.61,5.61,0,0,1-2.08,4.84,6.52,6.52,0,0,1-1,.7,4.42,4.42,0,0,1-1,.48A7.09,7.09,0,0,1,44.86,15.65ZM30.46,5.26v6h3a10.15,10.15,0,0,0,3.8-.55,2.41,2.41,0,0,0,1.25-2.42,2.5,2.5,0,0,0-1.18-2.43,8.8,8.8,0,0,0-3.87-.62ZM38.7,21.81A2.68,2.68,0,0,0,40,19.24a2.44,2.44,0,0,0-1.38-2.56,12.08,12.08,0,0,0-4.5-.62H30.46v6.37h4.29A9.89,9.89,0,0,0,38.7,21.81Z",fill:"#00a9e0"}));const R=(0,a.__)("ActBlue Embed"),T="actblue/embed",N={title:R,icon:A,description:(0,a.__)("Embed an ActBlue contribution form."),category:"embed",responsive:!1,keywords:[],supports:{align:!0},transforms:S,attributes:{url:{type:"string"},caption:{type:"string",source:"html",selector:"figcaption"},type:{type:"string"},allowResponsive:{type:"boolean",default:!0},refcode:{type:"string"}},edit:B,save:e=>{let{attributes:t}=e;const{url:o,caption:n,type:r,refcode:a}=t;if(!o)return null;const l=g()("wp-block-embed","is-provider-actblue",{[`is-type-${r}`]:r});return(0,i.createElement)("figure",{className:l},(0,i.createElement)("div",{className:"wp-block-embed__wrapper"},`\n${E({url:o,refcode:a})}\n`),!c.RichText.isEmpty(n)&&(0,i.createElement)(c.RichText.Content,{tagName:"figcaption",value:n}))}},P=["actblue/button"],U=[["actblue/button"]],L={hasSelectedUI:!1};var I={from:[{type:"block",blocks:["core/buttons"],transform:(e,t)=>{const o=t.map((e=>(0,r.createBlock)("actblue/button",e.attributes)));return(0,r.createBlock)(O,{},o)}}],to:[{type:"block",blocks:["core/buttons"],transform:(e,t)=>{const o=t.map((e=>(0,r.createBlock)("core/button",e.attributes)));return(0,r.createBlock)("core/buttons",e,o)}}]};const O="actblue/buttons",j={title:(0,a.__)("ActBlue Buttons"),description:(0,a.__)("Prompt visitors to take action with a group of ActBlue donation buttons."),category:"layout",icon:A,keywords:[(0,a.__)("link")],supports:{align:!0,alignWide:!1},edit:function(e){let{className:t}=e;return(0,i.createElement)("div",{className:`${t} wp-block-buttons`},(0,i.createElement)(c.InnerBlocks,{allowedBlocks:P,template:U,__experimentalUIParts:L,__experimentalMoverDirection:"horizontal"}))},save:()=>(0,i.createElement)("div",{className:"wp-block-buttons"},(0,i.createElement)(c.InnerBlocks.Content,null)),transforms:I},{getComputedStyle:M}=window,G=(0,s.withFallbackStyles)(((e,t)=>{const{textColor:o,backgroundColor:n}=t,r=n&&n.color,a=o&&o.color,l=!a&&e?e.querySelector('[contenteditable="true"]'):null;return{fallbackBackgroundColor:r||!e?void 0:M(e).backgroundColor,fallbackTextColor:a||!l?void 0:M(l).color}})),$=0,F=50,H=5;function V(e){let{borderRadius:t="",setAttributes:o}=e;const n=(0,i.useCallback)((e=>{o({borderRadius:e})}),[o]);return(0,i.createElement)(s.PanelBody,{title:(0,a.__)("Border settings")},(0,i.createElement)(s.RangeControl,{value:t,label:(0,a.__)("Border radius"),min:$,max:F,initialPosition:H,allowReset:!0,onChange:n}))}var D=(0,_.compose)([(0,c.withColors)("backgroundColor",{textColor:"color"}),G])((function(e){let{attributes:t,backgroundColor:o,textColor:n,setBackgroundColor:r,setTextColor:l,fallbackBackgroundColor:u,fallbackTextColor:d,setAttributes:p,className:m}=e;const{borderRadius:b,placeholder:h,text:g,endpoint:v,refcode:f,amount:y}=t,[_,k]=(0,i.useState)(!1),[E,C]=(0,i.useState)(""),[x,B]=(0,i.useState)("Connect"),[S,A]=(0,i.useState)(!1),{gradientClass:R,gradientValue:T,setGradient:N}=(0,c.__experimentalUseGradient)();return(0,i.createElement)("div",{className:m},(0,i.createElement)(c.RichText,{placeholder:h||(0,a.__)("Add text…"),value:g,onChange:e=>p({text:e}),withoutInteractiveFormatting:!0,className:w()("wp-block-button__link",{"has-background":o.color||T,[o.class]:!T&&o.class,"has-text-color":n.color,[n.class]:n.class,[R]:R,"no-border-radius":0===b}),style:{...!o.color&&T?{background:T}:{backgroundColor:o.color},color:n.color,borderRadius:b?b+"px":void 0}}),(0,i.createElement)(c.InspectorControls,null,(0,i.createElement)(s.PanelBody,{title:(0,a.__)("ActBlue Settings"),className:"actblue-button-settings__panel"},(0,i.createElement)(s.TextControl,{label:"Embed URL",value:v,onChange:e=>p({endpoint:e}),help:"Use an ActBlue embedded form URL to connect this button."}),(0,i.createElement)(s.Button,{isSecondary:!0,isBusy:_,onClick:()=>{v&&(k(!0),C(""),fetch(`https://secure.actblue.com/cf/oembed?url=${v}&format=json`).then((e=>{if(404===e.status)throw new Error("Error: could not find an ActBlue embeddable form at that URL.");return e.json()})).then((e=>{p({token:e.token}),setTimeout((()=>A(!1)),2e3),A(!0)})).catch((e=>{console.error(e),p({token:""}),C(e.message)})).finally((()=>{B("Connect"),k(!1)})))},disabled:_||!v},x),(0,i.createElement)("span",{className:w()("actblue-button-settings__success-message",{"actblue-button-settings__success-message--visible":S})},"Success!"),E&&(0,i.createElement)("p",{className:"actblue-button-settings__fetch-message"},E),(0,i.createElement)(s.HorizontalRule,null),(0,i.createElement)(s.TextControl,{label:"Refcode",value:f,onChange:e=>p({refcode:e}),help:"Associate contributions made through this button with a refcode."}),(0,i.createElement)(s.TextControl,{type:"number",label:"Amount",value:y?y/100:"",onChange:e=>p({amount:e?100*e:void 0}),help:"Set the amount of the contribution in dollars, leave blank to let the donor choose an amount."})),(0,i.createElement)(c.__experimentalPanelColorGradientSettings,{title:(0,a.__)("Background & Text Color"),settings:[{colorValue:n.color,onColorChange:l,label:(0,a.__)("Text color")},{colorValue:o.color,onColorChange:r,gradientValue:T,onGradientChange:N,label:(0,a.__)("Background")}]},(0,i.createElement)(c.ContrastChecker,{isLargeText:!1,textColor:n.color,backgroundColor:o.color,fallbackBackgroundColor:u,fallbackTextColor:d})),(0,i.createElement)(V,{borderRadius:b,setAttributes:p})))}));const W="actblue/button",Z={name:W,icon:A,title:"ActBlue Button",description:"Add a button for an ActBlue contribution.",category:"layout",keywords:[(0,a.__)("link")],example:{attributes:{className:"is-style-fill",backgroundColor:"vivid-green-cyan",text:(0,a.__)("Call to Action")}},supports:{align:!1,alignWide:!1},styles:[{name:"fill",label:(0,a.__)("Fill"),isDefault:!0},{name:"outline",label:(0,a.__)("Outline")}],parent:["actblue/buttons"],attributes:{title:{type:"string",source:"attribute",selector:"a",attribute:"title"},text:{type:"string",source:"html",selector:"a"},backgroundColor:{type:"string"},textColor:{type:"string"},customBackgroundColor:{type:"string"},customTextColor:{type:"string"},placeholder:{type:"string"},borderRadius:{type:"number"},gradient:{type:"string"},customGradient:{type:"string"},token:{type:"string"},endpoint:{type:"string"},refcode:{type:"string"},amount:{type:"number"}},edit:D,save:e=>{let{attributes:t}=e;const{amount:o,backgroundColor:n,borderRadius:r,customBackgroundColor:a,customGradient:l,customTextColor:s,endpoint:u,gradient:d,refcode:p,text:m,textColor:b,title:h,token:g}=t,v=(0,c.getColorClassName)("color",b),f=!l&&(0,c.getColorClassName)("background-color",n),y=(0,c.__experimentalGetGradientClass)(d),_=w()("wp-block-button__link",{"has-text-color":b||s,[v]:v,"has-background":n||a||l||d,[f]:f,"no-border-radius":0===r,[y]:y}),k={background:l||void 0,backgroundColor:f||l||d?void 0:a,color:v?void 0:s,borderRadius:r?r+"px":void 0};return(0,i.createElement)("div",{className:"wp-block-button"},(0,i.createElement)(c.RichText.Content,{tagName:"a",className:`${_} js-actblue-donation-button`,href:u,title:h,style:k,value:m,target:"_blank","data-token":g,"data-refcode":p,"data-amount":o,rel:"noopener noreferrer"}))}};[e,t,n].forEach((e=>{let{name:t,settings:o}=e;(0,r.registerBlockType)(t,o)}))}()}();